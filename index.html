<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dwarfhold Valley</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div id="title-screen" class="screen">
      <div class="title-background" aria-hidden="true"></div>
      <div class="title-overlay">
        <h1 class="game-title">Dwarfhold Valley</h1>
        <p class="tagline">Procedural realms carved from stone and soil.</p>
        <div class="title-buttons">
          <button id="start-button" class="primary">Start Game</button>
          <button id="title-options-button" class="secondary">Options</button>
        </div>
      </div>
    </div>

    <section id="options-panel" class="modal hidden" aria-label="Game options">
      <form id="options-form">
        <h2>World Options</h2>
        <label>
          Map width (tiles)
          <input type="number" id="map-width" name="mapWidth" min="30" max="1024" value="200" />
        </label>
        <label>
          Map height (tiles)
          <input type="number" id="map-height" name="mapHeight" min="20" max="1024" value="150" />
        </label>
        <label>
          World seed
          <input type="text" id="world-seed" name="worldSeed" placeholder="Random" />
        </label>
        <div class="modal-buttons">
          <button type="submit" class="primary">Apply</button>
          <button type="button" id="close-options" class="secondary">Close</button>
        </div>
      </form>
    </section>

    <section id="world-info" class="modal hidden" aria-label="World information">
      <form id="world-info-form">
        <h2>Embark Preparation</h2>
        <p class="modal-description">
          Review the details of the realm you are about to shape. You can rename the world before embarking.
        </p>
        <dl class="world-stats" aria-live="polite">
          <div>
            <dt>Map size</dt>
            <dd id="world-info-size">—</dd>
          </div>
          <div>
            <dt>Seed</dt>
            <dd id="world-info-seed">—</dd>
          </div>
        </dl>
        <label for="world-name-input">World name</label>
        <div class="world-name-input">
          <input type="text" id="world-name-input" name="worldName" maxlength="60" autocomplete="off" required />
          <button type="button" id="world-name-random" class="secondary">Randomise</button>
        </div>
        <div class="modal-buttons">
          <button type="button" id="world-info-cancel" class="secondary">Back</button>
          <button type="submit" class="primary">Embark</button>
        </div>
      </form>
    </section>

    <div id="game-container" class="screen hidden">
      <header class="game-ui">
        <div class="controls">
          <button id="regenerate-button" class="primary">Regenerate</button>
          <button id="in-game-options" class="secondary">Options</button>
        </div>
        <div class="audio-controls" role="region" aria-label="Music controls">
          <button id="music-toggle" type="button" class="secondary">Play Music</button>
          <label class="volume-control" for="music-volume">
            Volume
            <input id="music-volume" type="range" min="0" max="1" step="0.01" value="0.5" />
          </label>
          <div id="music-now-playing" class="now-playing" aria-live="polite"></div>
        </div>
        <div class="seed-display" aria-live="polite"></div>
      </header>
      <main class="canvas-wrapper">
        <canvas id="world-canvas" width="6400" height="4800"></canvas>
      </main>
    </div>

    <audio id="background-music" preload="auto" aria-hidden="true" tabindex="-1"></audio>
    <script src="main.js" type="module"></script>
  </body>
</html>
